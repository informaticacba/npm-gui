{"id":"HT/F","dependencies":[{"name":"/home/pst/workspace/npm-gui/tsconfig.json","includedInParent":true,"mtime":1614887755913},{"name":"/home/pst/workspace/npm-gui/package.json","includedInParent":true,"mtime":1615239438480},{"name":"react/jsx-runtime","loc":{"line":54,"column":28},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/node_modules/react/jsx-runtime.js"},{"name":"react","loc":{"line":55,"column":22},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/node_modules/react/index.js"},{"name":"axios","loc":{"line":56,"column":38},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/node_modules/axios/index.js"},{"name":"../../../ui/Button/Button","loc":{"line":57,"column":23},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/client/ui/Button/Button.tsx"},{"name":"./ExplorerUI","loc":{"line":58,"column":27},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/client/components/Header/components/ExplorerUI.ts"},{"name":"../../../hooks/useClickOutside","loc":{"line":59,"column":32},"parent":"/home/pst/workspace/npm-gui/client/components/Header/components/Explorer.tsx","resolved":"/home/pst/workspace/npm-gui/client/hooks/useClickOutside.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Explorer=void 0;var i=require(\"react/jsx-runtime\"),o=require(\"react\"),a=n(require(\"axios\")),s=require(\"../../../ui/Button/Button\"),l=require(\"./ExplorerUI\"),u=require(\"../../../hooks/useClickOutside\");function c(n){var c=this,f=n.onSelectPath,p=o.useState(!1),d=p[0],h=p[1],x=o.useState(),v=x[0],y=x[1],b=o.useState(\"\"),j=b[0],w=b[1],k=o.useCallback(function(){h(function(e){return!e})},[]),m=o.useCallback(function(){h(!1)},[]),g=u.useClickOutsideRef(m),_=o.useCallback(function(){h(!1),f(j)},[j,f]),C=o.useCallback(function(e){return t(c,void 0,Promise,function(){var t;return r(this,function(r){switch(r.label){case 0:return[4,a.default.get(\"/api/explorer/\"+(e||\"\"))];case 1:return t=r.sent().data,y(t.ls),w(t.path),[2]}})})},[]);return o.useEffect(function(){C(\"\")},[C]),i.jsxs(l.Wrapper,e({ref:g},{children:[i.jsx(s.Button,e({icon:\"folder\",onClick:k,variant:\"dark\"},{children:\"Open\"}),void 0),i.jsxs(l.ExplorerList,e({isOpen:d},{children:[i.jsx(\"li\",{children:i.jsx(l.ExplorerButton,e({isDirectory:!0,onClick:function(){C(window.btoa(j+\"/../\"))}},{children:\"../\"}),void 0)},void 0),null==v?void 0:v.map(function(t){return i.jsxs(\"li\",{children:[t.isDirectory&&!t.isProject&&i.jsxs(l.ExplorerButton,e({isDirectory:!0,onClick:function(){C(window.btoa(j+\"/\"+t.name))}},{children:[i.jsx(\"span\",{className:\"oi\",\"data-glyph\":\"folder\"},void 0),t.name,\"/\"]}),void 0),t.isProject&&i.jsxs(l.ExplorerButton,e({isDirectory:!1,isProject:!0,onClick:_},{children:[i.jsx(\"span\",{className:\"oi\",\"data-glyph\":\"arrow-thick-right\"},void 0),t.name]}),void 0),!t.isDirectory&&!t.isProject&&i.jsxs(l.ExplorerFile,{children:[i.jsx(\"span\",{className:\"oi\",\"data-glyph\":\"file\"},void 0),t.name]},void 0)]},t.name)})]}),void 0)]}),void 0)}exports.Explorer=c;"},"sourceMaps":null,"error":null,"hash":"2013a320334daff4bc89075c87d492ef","cacheData":{"env":{}}}